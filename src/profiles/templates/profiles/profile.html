{% extends 'base.html' %}

{% load blog_tags %}

{% block title %}
    {{ title }}
{% endblock title %}

{% block content %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- Profile Card -->
            <div class="card mb-4 border-0 shadow-lg">
                <div class="card-body p-4">
                    <div class="row align-items-center">
                        <div class="col-auto">
                            <img src="{{ profile.image.url }}" alt="Profile" 
                                class="rounded-circle border" 
                                style="width: 100px; height: 100px; object-fit: cover;">
                        </div>
                        <div class="col ps-0">
                            <h1 class="h4 mb-1 fw-bold">{{ profile.display_name }}</h1>
                            <div class="text-muted mb-2">@{{ profile.user.username }}</div>
                            <p class="text-muted mb-0">{{ profile.bio|default:"Backend Programmer | Sharing thoughts on programming and life." }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stats -->
            <div class="d-flex gap-4 mb-4 px-2">
                <div class="text-center">
                    <div class="fw-bold fs-5">0</div>
                    <div class="text-muted small">Following</div>
                </div>
                <div class="text-center">
                    <div class="fw-bold fs-5">0</div>
                    <div class="text-muted small">Followers</div>
                </div>
                <div class="text-center">
                    <div class="fw-bold fs-5">{{ profile.posts.count }}</div>
                    <div class="text-muted small">Post{{ profile.posts.count|pluralize }}</div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="d-flex gap-2 mb-4 flex-wrap">
                <button class="btn btn-dark rounded-pill px-3 py-2 flex-grow-1 flex-md-grow-0">
                    <i class="bi bi-person-plus me-1"></i> Follow
                </button>
                <button class="btn btn-outline-dark rounded-pill px-3 py-2 flex-grow-1 flex-md-grow-0">
                    <i class="bi bi-envelope me-1"></i> Subscribe
                </button>
            </div>

            <!-- Articles Section -->
            <div class="mb-4">
                <h2 class="h5 fw-bold mb-3 pb-2 border-bottom">Recent Articles</h2>
                {% include 'blog/includes/post_list.html' %}
            </div>

            <!-- Show All Button -->
            <div class="text-center">
                <a href="#" class="btn btn-outline-dark rounded-pill px-4 py-2">
                    Show All Articles <i class="bi bi-arrow-right ms-1"></i>
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock content %}